version: "2"
linters:
  default: all
  disable:
    - arangolint
    - cyclop
    - depguard
    - funcorder
    - funlen
    - gocognit
    - gocyclo
    - godox
    - nlreturn
    - unqueryvet
    - varnamelen
    - wsl
    - wsl_v5
  settings:
    errcheck:
      check-type-assertions: true
    exhaustruct:
      allow-empty: true
    gocritic:
      disabled-checks:
        - ifElseChain
    godot:
      scope: all
    govet:
      disable:
        - fieldalignment
      enable-all: true
    lll:
      line-length: 170
    nestif:
      min-complexity: 15
    nolintlint:
      require-specific: true
      allow-unused: false
    staticcheck:
      checks:
        - all
    tagalign:
      strict: true
    tagliatelle:
      case:
        rules:
          json: snake
    testifylint:
      require-error:
        fn-pattern: ^(NoError|NotErrorIs)$
  exclusions:
    generated: strict
    warn-unused: true
    rules:
      - linters:
          - govet
        text: 'shadow: declaration of "(err|errE)" shadows declaration'
      - linters:
          - revive
        text: "exported: exported"
      - linters:
          - dupl
          - exhaustruct
          - gochecknoglobals
        path: .*_test\.go
      - linters:
          - testpackage
        path: entity_test\.go
formatters:
  enable:
    - gofmt
    - gofumpt
    - goimports
    # - gci
    # - golines
    # - swaggo
  settings:
    goimports:
      local-prefixes:
        - gitlab.com/tozd/go/mediawiki
  exclusions:
    generated: strict
    warn-unused: true
issues:
  max-issues-per-linter: 0
  max-same-issues: 0
run:
  timeout: 4m